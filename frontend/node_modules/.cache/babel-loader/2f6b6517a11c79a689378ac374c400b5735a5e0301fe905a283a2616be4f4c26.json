{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from\"react-redux\";import{Row,Col}from\"react-bootstrap\";import{Helmet}from\"react-helmet\";// import products from \"../products\"\nimport{Link,useParams}from\"react-router-dom\";import Product from'../components/Product';import{listProducts}from\"../actions/productAction\";import Loader from'../components/Loader';import Message from'../components/Message';import Paginate from'../components/Paginate';import ProductCarousel from'../components/ProductCarousel';// import axios from \"axios\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HomeScreen=function HomeScreen(_ref){var match=_ref.match;//for search purpose\nvar param=useParams();var keyword=param.keyword;console.log(\"keyword:\",param.keyword);var pageNumber=param.pageNumber||1;// making it comment because now we are using redux global state not component level state\n// const [products,setProducts] = useState([])\nvar dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.productList;}),loading=_useSelector.loading,error=_useSelector.error,products=_useSelector.products,page=_useSelector.page,pages=_useSelector.pages;useEffect(function(){//making this comment -> we are not making direct axios call like thisbelow\n//now we will use listProduct from \"productAction.js\"\n// const fetchProducts =async()=>{\n//   // const res = axios.get(\"/api/products\")\n//   // res.data\n//   const { data } = await axios.get(\"/api/products\")\n//   console.log(data)\n//   setProducts(data)\n// }\n// fetchProducts()\ndispatch(listProducts(keyword,pageNumber));},[dispatch,keyword,pageNumber]);console.log(\"products:\",products);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Welcome to ProShop | Home\"})}),!keyword&&/*#__PURE__*/_jsx(ProductCarousel,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Latest Products\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:products.map(function(product){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsx(Product,{product:product})},product._id);})}),/*#__PURE__*/_jsx(Paginate,{pages:pages,page:page,keyword:keyword?keyword:''})]})]});};export default HomeScreen;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","Row","Col","Helmet","Link","useParams","Product","listProducts","Loader","Message","Paginate","ProductCarousel","HomeScreen","match","param","keyword","console","log","pageNumber","dispatch","state","productList","loading","error","products","page","pages","map","product","_id"],"sources":["/Users/monarch/Documents/MERN/ProShop/frontend/src/screens/HomeScreen.jsx"],"sourcesContent":["import React,{ useState, useEffect } from 'react'\nimport {useDispatch, useSelector } from \"react-redux\"\nimport { Row, Col} from \"react-bootstrap\"\nimport {Helmet} from \"react-helmet\"\n// import products from \"../products\"\nimport { Link, useParams } from \"react-router-dom\";\nimport Product from '../components/Product'\nimport { listProducts } from \"../actions/productAction\"\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport Paginate from '../components/Paginate';\nimport ProductCarousel from '../components/ProductCarousel';\n// import axios from \"axios\"\nconst HomeScreen = ({match}) => {\n  //for search purpose\n  let param = useParams();\n  let keyword = param.keyword\n  console.log(\"keyword:\",param.keyword)\n\n  const pageNumber = param.pageNumber || 1\n\n\n    \n  // making it comment because now we are using redux global state not component level state\n  // const [products,setProducts] = useState([])\n  const dispatch = useDispatch()\n  const { loading, error, products, page, pages } = useSelector((state) => state.productList)\n \n  useEffect(()=>{\n    //making this comment -> we are not making direct axios call like thisbelow\n    //now we will use listProduct from \"productAction.js\"\n    // const fetchProducts =async()=>{\n    //   // const res = axios.get(\"/api/products\")\n    //   // res.data\n    //   const { data } = await axios.get(\"/api/products\")\n    //   console.log(data)\n    //   setProducts(data)\n    // }\n    // fetchProducts()\n    dispatch(listProducts(keyword,pageNumber))\n\n  },[dispatch,keyword,pageNumber])\n  console.log(\"products:\",products)\n  return (\n    <>\n    <Helmet>\n      <title>Welcome to ProShop | Home</title>\n    </Helmet>\n      {!keyword && <ProductCarousel/>}\n      <h1>Latest Products</h1>\n      {loading ? <Loader/> : error ? <Message variant='danger'>{error}</Message>\n      :\n      <>\n      <Row>\n      {products.map(product => (\n          <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\n              {/* <h3>{product.name}</h3> */}\n              <Product product={product}/>\n          </Col>\n      ))}\n      </Row>\n      <Paginate pages={pages} page={page} keyword={keyword ? keyword: ''}/>\n      </>}\n      \n    </>\n  )\n}\n\nexport default HomeScreen\n"],"mappings":"AAAA,MAAOA,MAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACjD,OAAQC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACrD,OAASC,GAAG,CAAEC,GAAG,KAAO,iBAAiB,CACzC,OAAQC,MAAM,KAAO,cAAc,CACnC;AACA,OAASC,IAAI,CAAEC,SAAS,KAAQ,kBAAkB,CAClD,MAAOC,QAAO,KAAM,uBAAuB,CAC3C,OAASC,YAAY,KAAQ,0BAA0B,CACvD,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,QAAO,KAAM,uBAAuB,CAC3C,MAAOC,SAAQ,KAAM,wBAAwB,CAC7C,MAAOC,gBAAe,KAAM,+BAA+B,CAC3D;AAAA,6IACA,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAAgB,IAAXC,MAAK,MAALA,KAAK,CACxB;AACA,GAAIC,MAAK,CAAGT,SAAS,EAAE,CACvB,GAAIU,QAAO,CAAGD,KAAK,CAACC,OAAO,CAC3BC,OAAO,CAACC,GAAG,CAAC,UAAU,CAACH,KAAK,CAACC,OAAO,CAAC,CAErC,GAAMG,WAAU,CAAGJ,KAAK,CAACI,UAAU,EAAI,CAAC,CAIxC;AACA;AACA,GAAMC,SAAQ,CAAGpB,WAAW,EAAE,CAC9B,iBAAkDC,WAAW,CAAC,SAACoB,KAAK,QAAKA,MAAK,CAACC,WAAW,GAAC,CAAnFC,OAAO,cAAPA,OAAO,CAAEC,KAAK,cAALA,KAAK,CAAEC,QAAQ,cAARA,QAAQ,CAAEC,IAAI,cAAJA,IAAI,CAAEC,KAAK,cAALA,KAAK,CAE7C5B,SAAS,CAAC,UAAI,CACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAqB,QAAQ,CAACZ,YAAY,CAACQ,OAAO,CAACG,UAAU,CAAC,CAAC,CAE5C,CAAC,CAAC,CAACC,QAAQ,CAACJ,OAAO,CAACG,UAAU,CAAC,CAAC,CAChCF,OAAO,CAACC,GAAG,CAAC,WAAW,CAACO,QAAQ,CAAC,CACjC,mBACE,wCACA,KAAC,MAAM,wBACL,uBAAO,2BAAyB,EAAQ,EACjC,CACN,CAACT,OAAO,eAAI,KAAC,eAAe,IAAE,cAC/B,oBAAI,iBAAe,EAAK,CACvBO,OAAO,cAAG,KAAC,MAAM,IAAE,CAAGC,KAAK,cAAG,KAAC,OAAO,EAAC,OAAO,CAAC,QAAQ,UAAEA,KAAK,EAAW,cAE1E,wCACA,KAAC,GAAG,WACHC,QAAQ,CAACG,GAAG,CAAC,SAAAC,OAAO,qBACjB,KAAC,GAAG,EAAmB,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,CAAE,CAAC,EAAE,CAAE,CAAE,CAAC,EAAE,CAAE,CAAE,uBAE/C,KAAC,OAAO,EAAC,OAAO,CAAEA,OAAQ,EAAE,EAFtBA,OAAO,CAACC,GAAG,CAGf,EACT,CAAC,EACI,cACN,KAAC,QAAQ,EAAC,KAAK,CAAEH,KAAM,CAAC,IAAI,CAAED,IAAK,CAAC,OAAO,CAAEV,OAAO,CAAGA,OAAO,CAAE,EAAG,EAAE,GAClE,GAEF,CAEP,CAAC,CAED,cAAeH,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}